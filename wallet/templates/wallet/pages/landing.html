{% extends "wallet/components/base.html" %}

{% load static %}

{% block content %}

    <!--suppress HtmlUnknownTarget, XmlInvalidId -->
    <div id="landing-page" class="triangle-content">

        <h1>Exchange IOTA<br>with joy.</h1>

        <form id="send-form" action="/send-tokens" novalidate autocomplete="off" method="post">
            <div class="row">
                <div class="col s12 l12">

                    {% csrf_token %}

                    {{ form.non_field_errors }}

                    {% if user.is_authenticated %}
                        {# ################################################################# #}
                        {# ###### Show sender email for authenticated users ###### #}
                        {# ################################################################# #}
                        {{ form.sender_mail.as_hidden }}

                    {% else %}
                        {# ################################################################# #}
                        {# ###### Show sender email depending for public users ###### #}
                        {# ################################################################# #}
                        <div class="row">
                            <div class="col s12 l12">
                                <div class="input-field">
                                    <label for="{{ form.sender_mail.id_for_label }}">Your email</label>
                                    {{ form.sender_mail }}
                                    {{ form.sender_mail.errors }}
                                </div>
                            </div>
                        </div>
                    {% endif %}

                    <div class="row">
                        <div class="col s8 l8">
                            <div class="input-field">
                                <label for="{{ form.receiver_mail.id_for_label }}">Send to email</label>
                                {{ form.receiver_mail }}
                                {{ form.receiver_mail.errors }}
                            </div>
                        </div>

                        <div class="col s2 l2">
                            <div class="input-field">
                                <label for="{{ form.amount.id_for_label }}">Amount</label>
                                {{ form.amount }}
                                {{ form.amount.errors }}
                            </div>
                        </div>
                        <div class="col s2 l2">
                            <div class="input-field">
                                {{ form.unit }}
                            </div>
                        </div>
                    </div>
                    {#  Message field is hidden for now, due to simplicity reasons #}
                    {{ form.message.as_hidden }}
                    {#                    <div class="row">#}
                    {#                        <div class="col s12">#}
                    {#                            <div class="input-field">#}
                    {#                                <label for="{{ form.message.id_for_label }}">Message (optional)</label>#}
                    {#                                {{ form.message }}#}
                    {#                                {{ form.message.errors }}#}
                    {#                            </div>#}
                    {#                        </div>#}
                    {#                    </div>#}
                    <div class="row">
                        <div class="col s12 center">
                            <button class="btn btn-large btn-flat waves-effect waves-dark white-text"
                                    id="send-tokens"
                                    type="submit">Send
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            {% include 'wallet/components/message_box.html' %}
                        </div>
                    </div>
                </div>
            </div>
        </form>

    </div>
{% endblock %}